// Generated by LiveScript 1.2.0
(function(){
  var root, add_video_obj, getSlideData;
  root = typeof exports != 'undefined' && exports !== null ? exports : this;
  add_video_obj = function(obj){
    var newvid, vidid;
    newvid = $('<video>').attr('src', obj.url).attr('controls', 'controls').attr('width', '300').attr('height', '300').attr('autoplay', 'true').attr('loop', 'loop');
    vidid = obj.file.split('.')[0] + '_' + obj.start + '_' + obj.end;
    newvid.attr('id', vidid);
    newvid.attr('subtitletext', obj.text);
    $('#videoDisplay').append(newvid);
    return $('#' + vidid).mouseenter(function(){
      var subtitletext;
      subtitletext = $('#' + vidid).attr('subtitletext');
      return $('#framecontentRight').text(subtitletext);
    });
  };
  getSlideData = function(callback){
    return $.getJSON('/getSlideData', function(slides){
      return callback(slides);
    });
  };
  $(document).ready(function(){
    console.log('hello!');
    $('#foo').text('javascript working');
    return getSlideData(function(slides){
      var i$, ref$, len$, slide;
      root.slides = slides;
      for (i$ = 0, len$ = (ref$ = slides.children).length; i$ < len$; ++i$) {
        slide = ref$[i$];
        add_video_obj(slide);
      }
      return $('#foo').text('javascript finished');
    });
  });
}).call(this);
