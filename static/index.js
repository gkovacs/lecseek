// Generated by LiveScript 1.2.0
(function(){
  var root, slides_human_readable, to_numeric_time, to_machine_readable_timestamps, slides, add_video_obj;
  root = typeof exports != 'undefined' && exports !== null ? exports : this;
  slides_human_readable = {
    start: '0:00',
    end: '14:53',
    file: '17-1.mp4',
    children: [
      {
        start: '0:00',
        end: '0:21'
      }, {
        start: '0:21',
        end: '2:53'
      }, {
        start: '2:53',
        end: '3:32'
      }, {
        start: '3:32',
        end: '4:41'
      }, {
        start: '4:41',
        end: '6:28'
      }, {
        start: '6:28',
        end: '8:16'
      }, {
        start: '8:16',
        end: '11:12'
      }, {
        start: '11:12',
        end: '12:38'
      }, {
        start: '12:38',
        end: '14:15'
      }, {
        start: '14:15',
        end: '14:53'
      }
    ]
  };
  to_numeric_time = function(str){
    var ref$, min, sec;
    ref$ = str.split(':'), min = ref$[0], sec = ref$[1];
    min = parseInt(min);
    sec = parseInt(sec);
    return min * 60 + sec;
  };
  to_machine_readable_timestamps = function(tree, file){
    var output, res$, k, v, i$, ref$, len$, x;
    res$ = {};
    for (k in tree) {
      v = tree[k];
      res$[k] = v;
    }
    output = res$;
    if (output.file != null) {
      file = output.file;
    } else if (file != null) {
      output.file = file;
    }
    if (output.start != null) {
      output.start = to_numeric_time(output.start);
    }
    if (output.end != null) {
      output.end = to_numeric_time(output.end);
    }
    if (output.file != null && output.start != null && output.end != null) {
      output.url = "http://localhost:5000/segmentvideo?start=" + output.start + "&end=" + output.end + "&video=" + output.file;
    }
    if (output.children != null && output.children.length != null) {
      res$ = [];
      for (i$ = 0, len$ = (ref$ = output.children).length; i$ < len$; ++i$) {
        x = ref$[i$];
        res$.push(to_machine_readable_timestamps(x, file));
      }
      output.children = res$;
    }
    return output;
  };
  root.slides = slides = to_machine_readable_timestamps(slides_human_readable);
  add_video_obj = function(obj){
    var newvid;
    newvid = $('<video>').attr('src', obj.url).attr('controls', 'controls').attr('width', '300').attr('height', '300').attr('autoplay', 'true').attr('loop', 'loop');
    return $('#videoDisplay').append(newvid);
  };
  $(document).ready(function(){
    var i$, ref$, len$, slide;
    console.log('hello!');
    $('#foo').text('javascript working');
    for (i$ = 0, len$ = (ref$ = slides.children).length; i$ < len$; ++i$) {
      slide = ref$[i$];
      add_video_obj(slide);
    }
    return $('#foo').text('javascript finished');
  });
}).call(this);
